{"ast":null,"code":"import React,{useEffect,useState}from'react';import'./CreateClaim.css';import axios from\"axios\";import swal from\"sweetalert\";import TextInput from\"../../../../common/TextInput/TextInput\";import Button from\"../../../../common/Button/Button\";import SelectInput from\"../../../../common/SelectInput/SelectInput\";import{ENDPOINT_GET_CONTRACTS,ENDPOINT_POST_CLAIM}from'../../../../common/Endpoint/Endpoint.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function CreateClaim(_ref){let{customer}=_ref;const[contracts,setContracts]=useState(null);const[selectedContract,setSelectedContract]=useState(null);const[description,setDescription]=useState('');useEffect(()=>{axios.get(ENDPOINT_GET_CONTRACTS,{params:{customerId:customer.id}}).then(response=>{setContracts(response.data);}).catch(error=>{swal({title:'시스템 오류',text:'잠시후 다시 시도해주세요. 불편을 드려 죄송합니다.',icon:'error',button:'확인'});});},[]);const handleSubmit=async e=>{e.preventDefault();const claimData={contract_id:selectedContract,description:description};axios.post(ENDPOINT_POST_CLAIM,claimData).then(response=>{swal({title:'보상금 청구 완료',text:'보상금 청구에 성공하였습니다.',icon:'success',button:'확인'});}).catch(error=>{swal({title:'시스템 오류',text:'잠시후 다시 시도해주세요. 불편을 드려 죄송합니다.',icon:'error',button:'확인'});});};if(contracts==null)return null;else return/*#__PURE__*/_jsxs(\"div\",{className:'create_claim',children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uBCF4\\uC0C1\\uAE08 \\uCCAD\\uAD6C\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(SelectInput,{text:'계약아이디',values:contracts.map(function(contract){return contract.id;}),onChange:e=>setSelectedContract(e.target.value)}),/*#__PURE__*/_jsx(TextInput,{text:'내용',value:description,onChange:e=>setDescription(e.target.value)}),/*#__PURE__*/_jsx(Button,{text:'완료',type:\"submit\"})]})]});}","map":{"version":3,"names":["React","useEffect","useState","axios","swal","TextInput","Button","SelectInput","ENDPOINT_GET_CONTRACTS","ENDPOINT_POST_CLAIM","jsx","_jsx","jsxs","_jsxs","CreateClaim","_ref","customer","contracts","setContracts","selectedContract","setSelectedContract","description","setDescription","get","params","customerId","id","then","response","data","catch","error","title","text","icon","button","handleSubmit","e","preventDefault","claimData","contract_id","post","className","children","onSubmit","values","map","contract","onChange","target","value","type"],"sources":["C:/Users/junse/Desktop/workspace/GitHub/ds2project/customer_service/frontend/src/user_defined_react_component/specific/Main/MainContents/CreateClaim/CreateClaim.jsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport './CreateClaim.css'\r\nimport axios from \"axios\";\r\nimport swal from \"sweetalert\";\r\nimport TextInput from \"../../../../common/TextInput/TextInput\";\r\nimport Button from \"../../../../common/Button/Button\";\r\nimport SelectInput from \"../../../../common/SelectInput/SelectInput\";\r\nimport {ENDPOINT_GET_CONTRACTS, ENDPOINT_POST_CLAIM} from '../../../../common/Endpoint/Endpoint.js'\r\n\r\nexport default function CreateClaim({customer}) {\r\n\r\n    const [contracts, setContracts] = useState(null);\r\n    const [selectedContract, setSelectedContract] = useState(null);\r\n    const [description, setDescription] = useState('');\r\n\r\n    useEffect(() => {\r\n        axios.get(ENDPOINT_GET_CONTRACTS, {\r\n            params: {customerId: customer.id}\r\n        })\r\n            .then(response => {\r\n                setContracts(response.data);\r\n            })\r\n            .catch(error => {\r\n                swal({\r\n                    title: '시스템 오류', text: '잠시후 다시 시도해주세요. 불편을 드려 죄송합니다.', icon: 'error', button: '확인',\r\n                });\r\n            });\r\n    }, []);\r\n\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const claimData = {\r\n            contract_id: selectedContract,\r\n            description: description\r\n        };\r\n        axios.post(ENDPOINT_POST_CLAIM, claimData)\r\n            .then(response => {\r\n                swal({\r\n                    title: '보상금 청구 완료',\r\n                    text: '보상금 청구에 성공하였습니다.',\r\n                    icon: 'success',\r\n                    button: '확인',\r\n                });\r\n            })\r\n            .catch(error => {\r\n                swal({\r\n                    title: '시스템 오류', text: '잠시후 다시 시도해주세요. 불편을 드려 죄송합니다.', icon: 'error', button: '확인',\r\n                });\r\n            });\r\n    };\r\n\r\n    if (contracts == null) return null;\r\n    else\r\n        return (\r\n            <div className={'create_claim'}>\r\n                <h2>보상금 청구</h2>\r\n                <form onSubmit={handleSubmit}>\r\n                    <SelectInput text={'계약아이디'} values={contracts.map(function (contract) {\r\n                        return contract.id\r\n                    })} onChange={(e) => setSelectedContract(e.target.value)}/>\r\n                    <TextInput text={'내용'} value={description} onChange={(e) => setDescription(e.target.value)}/>\r\n                    <Button text={'완료'} type=\"submit\"/>\r\n                </form>\r\n            </div>\r\n        );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}