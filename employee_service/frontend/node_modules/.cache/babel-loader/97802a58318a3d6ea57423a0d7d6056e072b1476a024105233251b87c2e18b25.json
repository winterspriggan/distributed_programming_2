{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\junse\\\\Desktop\\\\workspace\\\\GitHub\\\\ds2\\\\employee_service\\\\frontend\\\\src\\\\user_defined_react_component\\\\specific\\\\Main\\\\MainContents\\\\Underwrite\\\\Underwrite.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { ENDPOINT_GET_PRODUCTS } from \"../../../../common/Endpoint/Endpoint\";\nimport TextInput from \"../../../../common/TextInput/TextInput\";\nimport Button from \"../../../../common/Button/Button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Underwrite({\n  employee\n}) {\n  _s();\n  const [products, setProducts] = useState(null);\n  const [selectedProduct, setSelectedProduct] = useState(null);\n  const [seniorRate, setSeniorRate] = useState('');\n  const [maleRate, setMaleRate] = useState('');\n  const [femaleRate, setFemaleRate] = useState('');\n  const [occupationalHazardRate, setOccupationalHazardRate] = useState('');\n  const [smokingRate, setSmokingRate] = useState('');\n  useEffect(() => {\n    axios.get(ENDPOINT_GET_PRODUCTS).then(response => {\n      setProducts(response.data);\n      setSelectedProduct(response.data[0]);\n    }).catch(error => {\n      alert('시스템이 응답하지 않습니다, 잠시후 다시 시도해주세요.');\n    });\n  }, []);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const productData = {\n      id: selectedProduct,\n      senior_rate: seniorRate,\n      male_rate: maleRate,\n      female_rate: femaleRate,\n      occupational_hazard_rate: occupationalHazardRate,\n      smoking_rate: smokingRate\n    };\n    console.log(productData);\n    await axios.post('http://localhost:40055/api/product/update', productData).then(response => {\n      if (response.data === false) alert('요율 결정에 실패했습니다.');else {\n        alert('요율이 결정되어 상품이 공개 상태로 전환되었습니다.');\n      }\n    }).catch(error => {\n      alert('시스템이 응답하지 않습니다, 잠시후 다시 시도해주세요.');\n    });\n  };\n  const handelIdChange = e => {\n    setSelectedProduct(e.target.value);\n  };\n  let selectProductIds = null;\n  if (products !== null) {\n    selectProductIds = products.map(productId => /*#__PURE__*/_jsxDEV(\"option\", {\n      value: productId,\n      children: productId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this));\n  }\n  if (employee.department !== \"UNDERWRITING\") {\n    alert(\"언더라이팅팀 직원만 접근 가능한 메뉴입니다.\");\n    return null;\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"id\",\n          children: \"\\uC0C1\\uD488 \\uC544\\uC774\\uB514\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: handelIdChange,\n          children: selectProductIds\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(SelectInput, {\n        text: '상품 이름',\n        values: contracts.map(function (contract) {\n          return contract.id;\n        }),\n        onChange: e => setSelectedContract(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n        text: '고령 요율',\n        value: seniorRate,\n        onChange: e => setSeniorRate(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n        text: '남성 요율',\n        value: maleRate,\n        onChange: e => setMaleRate(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n        text: '여성 요율',\n        value: femaleRate,\n        onChange: e => setFemaleRate(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n        text: '위험 직업 요율',\n        value: occupationalHazardRate,\n        onChange: e => setOccupationalHazardRate(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n        text: '흡연 요율',\n        value: smokingRate,\n        onChange: e => setSmokingRate(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        text: '제출'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this);\n  }\n}\n_s(Underwrite, \"bXTnorQ7j4qWBFb3ND/Fv4AFpNc=\");\n_c = Underwrite;\nvar _c;\n$RefreshReg$(_c, \"Underwrite\");","map":{"version":3,"names":["React","useEffect","useState","axios","ENDPOINT_GET_PRODUCTS","TextInput","Button","jsxDEV","_jsxDEV","Underwrite","employee","_s","products","setProducts","selectedProduct","setSelectedProduct","seniorRate","setSeniorRate","maleRate","setMaleRate","femaleRate","setFemaleRate","occupationalHazardRate","setOccupationalHazardRate","smokingRate","setSmokingRate","get","then","response","data","catch","error","alert","handleSubmit","e","preventDefault","productData","id","senior_rate","male_rate","female_rate","occupational_hazard_rate","smoking_rate","console","log","post","handelIdChange","target","value","selectProductIds","map","productId","children","fileName","_jsxFileName","lineNumber","columnNumber","department","onSubmit","className","htmlFor","onChange","SelectInput","text","values","contracts","contract","setSelectedContract","_c","$RefreshReg$"],"sources":["C:/Users/junse/Desktop/workspace/GitHub/ds2/employee_service/frontend/src/user_defined_react_component/specific/Main/MainContents/Underwrite/Underwrite.jsx"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport axios from \"axios\";\r\nimport {ENDPOINT_GET_PRODUCTS} from \"../../../../common/Endpoint/Endpoint\";\r\nimport TextInput from \"../../../../common/TextInput/TextInput\";\r\nimport Button from \"../../../../common/Button/Button\";\r\n\r\nexport default function Underwrite({employee}) {\r\n\r\n    const [products, setProducts] = useState(null);\r\n    const [selectedProduct, setSelectedProduct] = useState(null);\r\n    const [seniorRate, setSeniorRate] = useState('');\r\n    const [maleRate, setMaleRate] = useState('');\r\n    const [femaleRate, setFemaleRate] = useState('');\r\n    const [occupationalHazardRate, setOccupationalHazardRate] = useState('');\r\n    const [smokingRate, setSmokingRate] = useState('');\r\n\r\n    useEffect(() => {\r\n        axios.get(ENDPOINT_GET_PRODUCTS)\r\n            .then(response => {\r\n                setProducts(response.data);\r\n                setSelectedProduct(response.data[0]);\r\n            })\r\n            .catch(error => {\r\n                alert('시스템이 응답하지 않습니다, 잠시후 다시 시도해주세요.');\r\n            });\r\n    }, []);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const productData = {\r\n            id: selectedProduct,\r\n            senior_rate: seniorRate,\r\n            male_rate: maleRate,\r\n            female_rate: femaleRate,\r\n            occupational_hazard_rate: occupationalHazardRate,\r\n            smoking_rate: smokingRate,\r\n        };\r\n        console.log(productData);\r\n        await axios.post('http://localhost:40055/api/product/update', productData)\r\n            .then(response => {\r\n                if (response.data === false)\r\n                    alert('요율 결정에 실패했습니다.');\r\n                else {\r\n                    alert('요율이 결정되어 상품이 공개 상태로 전환되었습니다.');\r\n                }\r\n            })\r\n            .catch(error => {\r\n                alert('시스템이 응답하지 않습니다, 잠시후 다시 시도해주세요.');\r\n            });\r\n    };\r\n\r\n    const handelIdChange = (e) => {\r\n        setSelectedProduct(e.target.value);\r\n    };\r\n\r\n    let selectProductIds = null;\r\n\r\n    if (products !== null) {\r\n        selectProductIds = products.map(productId =>\r\n            <option value={productId}>\r\n                {productId}\r\n            </option>\r\n        );\r\n    }\r\n\r\n    if (employee.department !== \"UNDERWRITING\") {\r\n        alert(\"언더라이팅팀 직원만 접근 가능한 메뉴입니다.\")\r\n        return null;\r\n    } else {\r\n        return (\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"form\">\r\n                    <label htmlFor=\"id\">상품 아이디</label>\r\n                    <select onChange={handelIdChange}>\r\n                        {selectProductIds}\r\n                    </select>\r\n                </div>\r\n                <SelectInput text={'상품 이름'} values={contracts.map(function (contract) {\r\n                    return contract.id\r\n                })} onChange={(e) => setSelectedContract(e.target.value)}/>\r\n                <TextInput text={'고령 요율'} value={seniorRate} onChange={(e) => setSeniorRate(e.target.value)}/>\r\n                <TextInput text={'남성 요율'} value={maleRate} onChange={(e) => setMaleRate(e.target.value)}/>\r\n                <TextInput text={'여성 요율'} value={femaleRate} onChange={(e) => setFemaleRate(e.target.value)}/>\r\n                <TextInput text={'위험 직업 요율'} value={occupationalHazardRate}\r\n                           onChange={(e) => setOccupationalHazardRate(e.target.value)}/>\r\n                <TextInput text={'흡연 요율'} value={smokingRate} onChange={(e) => setSmokingRate(e.target.value)}/>\r\n                <Button text={'제출'}/>\r\n            </form>\r\n        );\r\n    }\r\n\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}