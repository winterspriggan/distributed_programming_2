{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import'./PayCompensation.css';import{ENDPOINT_GET_ACCEPTED_CLAIMS,ENDPOINT_GET_MANAGING_CLAIMS,ENDPOINT_POST_ANSWER_BOARD,ENDPOINT_POST_PAY_COMPENSATION,ENDPOINT_POST_REPORT}from\"../../../../common/Endpoint/Endpoint\";import swal from\"sweetalert\";import Button from\"../../../../common/Button/Button\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ClaimRecord(_ref){let{claim,employee}=_ref;function payCompensation(){axios.post(ENDPOINT_POST_PAY_COMPENSATION,null,{params:{id:claim.id}}).then(response=>{if(response.data===true){swal({title:'보상금 지급 성공',text:'보상금이 지급되었습니다.',icon:'success',button:'확인'});}else{swal({title:'보상금 지급 실패',text:'잠시후 다시 시도해주세요.',icon:'error',button:'확인'});}}).catch(error=>{swal({title:'시스템 오류',text:'잠시후 다시 시도해주세요. 불편을 드려 죄송합니다.',icon:'error',button:'확인'});});}return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:claim.id}),/*#__PURE__*/_jsx(\"td\",{children:claim.contract_id}),/*#__PURE__*/_jsx(\"td\",{children:claim.compensation}),/*#__PURE__*/_jsx(\"td\",{children:claim.date}),/*#__PURE__*/_jsx(\"td\",{children:claim.description}),/*#__PURE__*/_jsx(\"td\",{children:claim.investigator}),/*#__PURE__*/_jsx(\"td\",{children:claim.reviewer}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Button,{text:'지급',onClick:payCompensation})})]});}export default function PayCompensation(_ref2){let{employee}=_ref2;const[claims,setClaims]=useState(null);function refreshClaims(){axios.get(ENDPOINT_GET_ACCEPTED_CLAIMS).then(response=>{setClaims(response.data);}).catch(error=>{swal({title:'시스템 오류',text:'잠시후 다시 시도해주세요. 불편을 드려 죄송합니다.',icon:'error',button:'확인'});});}useEffect(()=>{refreshClaims();},[]);if(employee.department!=='SUPPORTING'){swal({title:'권한 없음',text:'보험지원팀만 이용 가능한 메뉴입니다.',icon:'error',button:'확인'});return null;}return/*#__PURE__*/_jsxs(\"div\",{className:'pay_compensation',children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uBCF4\\uC0C1\\uAE08 \\uC9C0\\uAE09\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\uCCAD\\uAD6C \\uC544\\uC774\\uB514\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uACC4\\uC57D \\uC544\\uC774\\uB514\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uBCF4\\uC0C1\\uAE08\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uB0A0\\uC9DC\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uB0B4\\uC6A9\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC870\\uC0AC \\uB2F4\\uB2F9\\uC790\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC2EC\\uC0AC \\uB2F4\\uB2F9\\uC790\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC9C0\\uAE09 \\uBC84\\uD2BC\"})]}),claims!==null?claims.map(claim=>/*#__PURE__*/_jsx(ClaimRecord,{claim:claim,employee:employee})):\"LOADING...\"]})]});}","map":{"version":3,"names":["React","useEffect","useState","axios","ENDPOINT_GET_ACCEPTED_CLAIMS","ENDPOINT_GET_MANAGING_CLAIMS","ENDPOINT_POST_ANSWER_BOARD","ENDPOINT_POST_PAY_COMPENSATION","ENDPOINT_POST_REPORT","swal","Button","jsx","_jsx","jsxs","_jsxs","ClaimRecord","_ref","claim","employee","payCompensation","post","params","id","then","response","data","title","text","icon","button","catch","error","children","contract_id","compensation","date","description","investigator","reviewer","onClick","PayCompensation","_ref2","claims","setClaims","refreshClaims","get","department","className","map"],"sources":["/Users/jeon-choongyeong/Downloads/aDP2/employee_service/frontend/src/user_defined_react_component/specific/Main/MainContents/PayCompensation/PayCompensation.jsx"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport './PayCompensation.css'\nimport {\n    ENDPOINT_GET_ACCEPTED_CLAIMS,\n    ENDPOINT_GET_MANAGING_CLAIMS,\n    ENDPOINT_POST_ANSWER_BOARD, ENDPOINT_POST_PAY_COMPENSATION, ENDPOINT_POST_REPORT\n} from \"../../../../common/Endpoint/Endpoint\";\nimport swal from \"sweetalert\";\nimport Button from \"../../../../common/Button/Button\";\n\nfunction ClaimRecord({claim, employee}) {\n    function payCompensation() {\n        axios.post(ENDPOINT_POST_PAY_COMPENSATION, null, {\n            params: {id: claim.id}\n        })\n            .then(response => {\n                if (response.data === true) {\n                    swal({\n                        title: '보상금 지급 성공',\n                        text: '보상금이 지급되었습니다.',\n                        icon: 'success',\n                        button: '확인',\n                    });\n                } else {\n                    swal({\n                        title: '보상금 지급 실패',\n                        text: '잠시후 다시 시도해주세요.',\n                        icon: 'error',\n                        button: '확인',\n                    });\n                }\n            })\n            .catch(error => {\n                swal({\n                    title: '시스템 오류',\n                    text: '잠시후 다시 시도해주세요. 불편을 드려 죄송합니다.',\n                    icon: 'error',\n                    button: '확인',\n                });\n            });\n    }\n\n    return (\n        <tr>\n            <td>{claim.id}</td>\n            <td>{claim.contract_id}</td>\n            <td>{claim.compensation}</td>\n            <td>{claim.date}</td>\n            <td>{claim.description}</td>\n            <td>{claim.investigator}</td>\n            <td>{claim.reviewer}</td>\n            <td><Button text={'지급'} onClick={payCompensation}/></td>\n        </tr>\n    );\n}\n\nexport default function PayCompensation({employee}) {\n\n    const [claims, setClaims] = useState(null);\n\n    function refreshClaims() {\n        axios.get(ENDPOINT_GET_ACCEPTED_CLAIMS)\n            .then(response => {\n                setClaims(response.data);\n            })\n            .catch(error => {\n                swal({\n                    title: '시스템 오류',\n                    text: '잠시후 다시 시도해주세요. 불편을 드려 죄송합니다.',\n                    icon: 'error',\n                    button: '확인',\n                });\n            });\n    }\n\n    useEffect(() => {\n        refreshClaims();\n    }, []);\n\n    if (employee.department !== 'SUPPORTING') {\n        swal({\n            title: '권한 없음',\n            text: '보험지원팀만 이용 가능한 메뉴입니다.',\n            icon: 'error',\n            button: '확인',\n        });\n        return null;\n    }\n\n    return (\n        <div className={'pay_compensation'}>\n            <h2>보상금 지급</h2>\n            <table>\n                <tr>\n                    <th>청구 아이디</th>\n                    <th>계약 아이디</th>\n                    <th>보상금</th>\n                    <th>날짜</th>\n                    <th>내용</th>\n                    <th>조사 담당자</th>\n                    <th>심사 담당자</th>\n                    <th>지급 버튼</th>\n                </tr>\n                {claims !== null ? claims.map(claim => <ClaimRecord\n                        claim={claim} employee={employee}/>)\n                    : \"LOADING...\"\n                }\n            </table>\n        </div>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}