{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import'./CreateAnswer.css';import{ENDPOINT_GET_BOARDS,ENDPOINT_POST_ANSWER_BOARD}from\"../../../../common/Endpoint/Endpoint\";import swal from\"sweetalert\";import Button from\"../../../../common/Button/Button\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BoardRecord(_ref){let{board,employee}=_ref;function answerBoard(){swal({content:\"input\"}).then(answer=>{if(answer===''){swal({title:'답변 등록 실패',text:'입력이 비어있습니다.',icon:'error',button:'확인'});}else{axios.post(ENDPOINT_POST_ANSWER_BOARD,null,{params:{id:board.id,answer:answer,answerer:employee.id,is_answered:1}}).then(response=>{if(response.data===true){swal({title:'답변 등록 성공',text:'답변이 등록되었습니다.',icon:'success',button:'확인'});}else{swal({title:'답변 등록 실패',text:'입력을 다시 확인해주세요.',icon:'error',button:'확인'});}}).catch(error=>{swal({title:'시스템 오류',text:'잠시후 다시 시도해주세요. 불편을 드려 죄송합니다.',icon:'error',button:'확인'});});}});}return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:board.title}),/*#__PURE__*/_jsx(\"td\",{children:board.author}),/*#__PURE__*/_jsx(\"td\",{children:board.content}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Button,{text:'답변하기',onClick:answerBoard})})]});}export default function CreateAnswer(_ref2){let{employee}=_ref2;const[boards,setBoards]=useState(null);function refreshBoards(){axios.get(ENDPOINT_GET_BOARDS).then(response=>{setBoards(response.data);}).catch(error=>{swal({title:'시스템 오류',text:'잠시후 다시 시도해주세요. 불편을 드려 죄송합니다.',icon:'error',button:'확인'});});}useEffect(()=>{refreshBoards();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:'create_answer',children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uBB38\\uC758 \\uAC8C\\uC2DC\\uD310\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC791\\uC131\\uC790\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uB0B4\\uC6A9\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uB2F5\\uBCC0 \\uBC84\\uD2BC\"})]}),boards!==null?boards.filter(board=>board.is_answered===0).map(board=>/*#__PURE__*/_jsx(BoardRecord,{board:board,employee:employee})):\"LOADING...\"]})]});}","map":{"version":3,"names":["React","useEffect","useState","axios","ENDPOINT_GET_BOARDS","ENDPOINT_POST_ANSWER_BOARD","swal","Button","jsx","_jsx","jsxs","_jsxs","BoardRecord","_ref","board","employee","answerBoard","content","then","answer","title","text","icon","button","post","params","id","answerer","is_answered","response","data","catch","error","children","author","onClick","CreateAnswer","_ref2","boards","setBoards","refreshBoards","get","className","filter","map"],"sources":["/Users/jeon-choongyeong/Downloads/aDP2/employee_service/frontend/src/user_defined_react_component/specific/Main/MainContents/CreateAnswer/CreateAnswer.jsx"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport './CreateAnswer.css'\nimport {ENDPOINT_GET_BOARDS, ENDPOINT_POST_ANSWER_BOARD} from \"../../../../common/Endpoint/Endpoint\";\nimport swal from \"sweetalert\";\nimport Button from \"../../../../common/Button/Button\";\n\nfunction BoardRecord({board, employee}) {\n    function answerBoard() {\n        swal({\n            content: \"input\",\n        }).then(answer => {\n            if (answer === '') {\n                swal({\n                    title: '답변 등록 실패',\n                    text: '입력이 비어있습니다.',\n                    icon: 'error',\n                    button: '확인',\n                });\n            } else {\n                axios.post(ENDPOINT_POST_ANSWER_BOARD, null, {\n                    params: {\n                        id: board.id,\n                        answer: answer,\n                        answerer: employee.id,\n                        is_answered: 1\n                    }\n                })\n                    .then(response => {\n                        if (response.data === true) {\n                            swal({\n                                title: '답변 등록 성공',\n                                text: '답변이 등록되었습니다.',\n                                icon: 'success',\n                                button: '확인',\n                            });\n                        } else {\n                            swal({\n                                title: '답변 등록 실패',\n                                text: '입력을 다시 확인해주세요.',\n                                icon: 'error',\n                                button: '확인',\n                            });\n                        }\n                    })\n                    .catch(error => {\n                        swal({\n                            title: '시스템 오류',\n                            text: '잠시후 다시 시도해주세요. 불편을 드려 죄송합니다.',\n                            icon: 'error',\n                            button: '확인',\n                        });\n                    });\n            }\n        });\n    }\n\n    return (\n        <tr>\n            <td>{board.title}</td>\n            <td>{board.author}</td>\n            <td>{board.content}</td>\n            <td><Button text={'답변하기'} onClick={answerBoard}/></td>\n        </tr>\n    );\n}\n\nexport default function CreateAnswer({employee}) {\n\n    const [boards, setBoards] = useState(null);\n\n    function refreshBoards() {\n        axios.get(ENDPOINT_GET_BOARDS)\n            .then(response => {\n                setBoards(response.data);\n            })\n            .catch(error => {\n                swal({\n                    title: '시스템 오류',\n                    text: '잠시후 다시 시도해주세요. 불편을 드려 죄송합니다.',\n                    icon: 'error',\n                    button: '확인',\n                });\n            });\n    }\n\n    useEffect(() => {\n        refreshBoards();\n    }, []);\n\n    return (\n        <div className={'create_answer'}>\n            <h2>문의 게시판</h2>\n            <table>\n                <tr>\n                    <th>제목</th>\n                    <th>작성자</th>\n                    <th>내용</th>\n                    <th>답변 버튼</th>\n                </tr>\n                {boards !== null ? boards.filter(board => board.is_answered === 0).map(board => <BoardRecord\n                        board={board} employee={employee}/>)\n                    : \"LOADING...\"\n                }\n            </table>\n        </div>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}