{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Underwrite(_ref){let{employee}=_ref;const[productIds,setProductIds]=useState(null);const[selectedProductId,setSelectedProductId]=useState(null);const[seniorRate,setSeniorRate]=useState('');const[maleRate,setMaleRate]=useState('');const[femaleRate,setFemaleRate]=useState('');const[occupationalHazardRate,setOccupationalHazardRate]=useState('');const[smokingRate,setSmokingRate]=useState('');useEffect(()=>{axios.get('http://localhost:40055/api/product/unreleased').then(response=>{setProductIds(response.data);setSelectedProductId(response.data[0]);}).catch(error=>{alert('시스템이 응답하지 않습니다, 잠시후 다시 시도해주세요.');});},[]);const handleSubmit=async e=>{e.preventDefault();const productData={id:selectedProductId,senior_rate:seniorRate,male_rate:maleRate,female_rate:femaleRate,occupational_hazard_rate:occupationalHazardRate,smoking_rate:smokingRate};console.log(productData);await axios.post('http://localhost:40055/api/product/update',productData).then(response=>{if(response.data===false)alert('요율 결정에 실패했습니다.');else{alert('요율이 결정되어 상품이 공개 상태로 전환되었습니다.');}}).catch(error=>{alert('시스템이 응답하지 않습니다, 잠시후 다시 시도해주세요.');});};const handelIdChange=e=>{setSelectedProductId(e.target.value);};let selectProductIds=null;if(productIds!==null){selectProductIds=productIds.map(productId=>/*#__PURE__*/_jsx(\"option\",{value:productId,children:productId}));}if(employee.department!==\"UNDERWRITING\"){alert(\"언더라이팅팀 직원만 접근 가능한 메뉴입니다.\");return null;}else{return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"id\",children:\"\\uC0C1\\uD488 \\uC544\\uC774\\uB514\"}),/*#__PURE__*/_jsx(\"select\",{onChange:handelIdChange,children:selectProductIds})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"senior_rate\",children:\"\\uACE0\\uB839 \\uC694\\uC728\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"senior_rate\",name:\"senior_rate\",value:seniorRate,onChange:e=>setSeniorRate(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"male_rate\",children:\"\\uB0A8\\uC131 \\uC694\\uC728\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"male_rate\",name:\"male_rate\",value:maleRate,onChange:e=>setMaleRate(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"female_rate\",children:\"\\uC5EC\\uC131 \\uC694\\uC728\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"female_rate\",name:\"female_rate\",value:femaleRate,onChange:e=>setFemaleRate(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"occupational_hazard_rate\",children:\"\\uC704\\uD5D8 \\uC9C1\\uC5C5 \\uC694\\uC728\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"occupational_hazard_rate\",name:\"occupational_hazard_rate\",value:occupationalHazardRate,onChange:e=>setOccupationalHazardRate(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"smoking_rate\",children:\"\\uD761\\uC5F0 \\uC694\\uC728\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"smoking_rate\",name:\"smoking_rate\",value:smokingRate,onChange:e=>setSmokingRate(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"\\uC81C\\uCD9C\"})]})});}}","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Underwrite","_ref","employee","productIds","setProductIds","selectedProductId","setSelectedProductId","seniorRate","setSeniorRate","maleRate","setMaleRate","femaleRate","setFemaleRate","occupationalHazardRate","setOccupationalHazardRate","smokingRate","setSmokingRate","get","then","response","data","catch","error","alert","handleSubmit","e","preventDefault","productData","id","senior_rate","male_rate","female_rate","occupational_hazard_rate","smoking_rate","console","log","post","handelIdChange","target","value","selectProductIds","map","productId","children","department","onSubmit","className","htmlFor","onChange","type","name","required"],"sources":["C:/Users/junse/Desktop/workspace/GitHub/ds2/employee_service/frontend/src/user_defined_react_component/specific/Main/MainContents/Underwrite.jsx"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Underwrite({employee}) {\r\n\r\n    const [productIds, setProductIds] = useState(null);\r\n    const [selectedProductId, setSelectedProductId] = useState(null);\r\n    const [seniorRate, setSeniorRate] = useState('');\r\n    const [maleRate, setMaleRate] = useState('');\r\n    const [femaleRate, setFemaleRate] = useState('');\r\n    const [occupationalHazardRate, setOccupationalHazardRate] = useState('');\r\n    const [smokingRate, setSmokingRate] = useState('');\r\n\r\n\r\n    useEffect(() => {\r\n        axios.get('http://localhost:40055/api/product/unreleased')\r\n            .then(response => {\r\n                setProductIds(response.data);\r\n                setSelectedProductId(response.data[0]);\r\n            })\r\n            .catch(error => {\r\n                alert('시스템이 응답하지 않습니다, 잠시후 다시 시도해주세요.');\r\n            });\r\n    }, []);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const productData = {\r\n            id: selectedProductId,\r\n            senior_rate: seniorRate,\r\n            male_rate: maleRate,\r\n            female_rate: femaleRate,\r\n            occupational_hazard_rate: occupationalHazardRate,\r\n            smoking_rate: smokingRate,\r\n        };\r\n        console.log(productData);\r\n        await axios.post('http://localhost:40055/api/product/update', productData)\r\n            .then(response => {\r\n                if (response.data === false)\r\n                    alert('요율 결정에 실패했습니다.');\r\n                else {\r\n                    alert('요율이 결정되어 상품이 공개 상태로 전환되었습니다.');\r\n                }\r\n            })\r\n            .catch(error => {\r\n                alert('시스템이 응답하지 않습니다, 잠시후 다시 시도해주세요.');\r\n            });\r\n    };\r\n\r\n    const handelIdChange = (e) => {\r\n        setSelectedProductId(e.target.value);\r\n    };\r\n\r\n    let selectProductIds = null;\r\n\r\n    if (productIds !== null) {\r\n        selectProductIds = productIds.map(productId =>\r\n            <option value={productId}>\r\n                {productId}\r\n            </option>\r\n        );\r\n    }\r\n\r\n    if (employee.department !== \"UNDERWRITING\") {\r\n        alert(\"언더라이팅팀 직원만 접근 가능한 메뉴입니다.\")\r\n        return null;\r\n    } else {\r\n        return (\r\n            <>\r\n                <form onSubmit={handleSubmit}>\r\n                    <div className=\"form\">\r\n                        <label htmlFor=\"id\">상품 아이디</label>\r\n                        <select onChange={handelIdChange}>\r\n                            {selectProductIds}\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"form\">\r\n                        <label htmlFor=\"senior_rate\">고령 요율</label>\r\n                        <input type=\"text\" id=\"senior_rate\" name=\"senior_rate\" value={seniorRate}\r\n                               onChange={(e) => setSeniorRate(e.target.value)} required/>\r\n                    </div>\r\n                    <div className=\"form\">\r\n                        <label htmlFor=\"male_rate\">남성 요율</label>\r\n                        <input type=\"text\" id=\"male_rate\" name=\"male_rate\" value={maleRate}\r\n                               onChange={(e) => setMaleRate(e.target.value)} required/>\r\n                    </div>\r\n                    <div className=\"form\">\r\n                        <label htmlFor=\"female_rate\">여성 요율</label>\r\n                        <input type=\"text\" id=\"female_rate\" name=\"female_rate\" value={femaleRate}\r\n                               onChange={(e) => setFemaleRate(e.target.value)} required/>\r\n                    </div>\r\n                    <div className=\"form\">\r\n                        <label htmlFor=\"occupational_hazard_rate\">위험 직업 요율</label>\r\n                        <input type=\"text\" id=\"occupational_hazard_rate\" name=\"occupational_hazard_rate\"\r\n                               value={occupationalHazardRate}\r\n                               onChange={(e) => setOccupationalHazardRate(e.target.value)} required/>\r\n                    </div>\r\n                    <div className=\"form\">\r\n                        <label htmlFor=\"smoking_rate\">흡연 요율</label>\r\n                        <input type=\"text\" id=\"smoking_rate\" name=\"smoking_rate\" value={smokingRate}\r\n                               onChange={(e) => setSmokingRate(e.target.value)} required/>\r\n                    </div>\r\n                    <button type=\"submit\">제출</button>\r\n                </form>\r\n            </>\r\n        );\r\n    }\r\n\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}